/* Container */
.chatbotContainer {
  max-width: 1200px;
  margin: 2rem auto;
  padding: 2rem;
  min-height: calc(100vh - 200px);
  display: flex;
  flex-direction: column;
}

/* Header */
.chatbotHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  margin-bottom: 2rem;
  padding-bottom: 1.5rem;
  border-bottom: 2px solid var(--ifm-color-emphasis-200);
}

[data-theme='dark'] .chatbotHeader {
  border-bottom-color: var(--ifm-color-emphasis-300);
}

.headerContent {
  flex: 1;
}

.title {
  display: flex;
  align-items: center;
  gap: 1rem;
  font-size: 2.5rem;
  margin: 0 0 0.5rem 0;
}

.icon {
  font-size: 2.5rem;
  animation: float 3s ease-in-out infinite;
}

@keyframes float {
  0%, 100% {
    transform: translateY(0);
  }
  50% {
    transform: translateY(-10px);
  }
}

.gradientText {
  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 50%, #a855f7 100%);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
  animation: gradient 3s ease infinite;
  background-size: 200% 200%;
}

@keyframes gradient {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.subtitle {
  color: var(--ifm-color-emphasis-700);
  font-size: 1.1rem;
  margin: 0;
}

/* Messages Container */
.messagesContainer {
  flex: 1;
  overflow-y: auto;
  padding: 1.5rem;
  background: var(--ifm-background-surface-color);
  border-radius: 1rem;
  margin-bottom: 1.5rem;
  min-height: 500px;
  max-height: 650px;
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
}

[data-theme='dark'] .messagesContainer {
  background: var(--ifm-background-surface-color);
  box-shadow: 0 4px 6px -1px rgb(0 0 0 / 0.3), 0 2px 4px -2px rgb(0 0 0 / 0.3);
}

/* Custom Scrollbar */
.messagesContainer::-webkit-scrollbar {
  width: 8px;
}

.messagesContainer::-webkit-scrollbar-track {
  background: transparent;
}

.messagesContainer::-webkit-scrollbar-thumb {
  background: var(--ifm-color-emphasis-300);
  border-radius: 4px;
}

.messagesContainer::-webkit-scrollbar-thumb:hover {
  background: var(--ifm-color-emphasis-400);
}

/* Message */
.message {
  position: relative;
  margin-bottom: 1.5rem;
  padding: 1.25rem;
  border-radius: 1rem;
  max-width: 75%;
}

.userMessage {
  background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
  color: white;
  margin-left: auto;
  box-shadow: 0 4px 6px -1px rgb(139 92 246 / 0.3), 0 2px 4px -2px rgb(139 92 246 / 0.3);
}

.assistantMessage {
  background: #f3f4f6;
  color: #1f2937 !important;
  margin-right: auto;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

[data-theme='dark'] .assistantMessage {
  background: #374151;
  color: #e5e7eb !important;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.3);
}

.messageHeader {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 0.75rem;
  padding-bottom: 0.5rem;
  border-bottom: 1px solid rgba(255, 255, 255, 0.1);
}

.userMessage .messageHeader {
  border-bottom-color: rgba(255, 255, 255, 0.2);
}

.assistantMessage .messageHeader {
  border-bottom-color: var(--ifm-color-emphasis-200);
}

.messageRole {
  font-size: 0.875rem;
  font-weight: 600;
  opacity: 0.9;
  color: inherit;
}

.assistantMessage .messageRole {
  color: #1f2937 !important;
  font-weight: 700;
}

[data-theme='dark'] .assistantMessage .messageRole {
  color: #e5e7eb !important;
}

.timestamp {
  font-size: 0.75rem;
  opacity: 0.6;
}

/* Message Content */
.messageContent {
  line-height: 1.7;
  color: inherit;
}

.messageContent p {
  margin: 0 0 1rem 0;
  color: inherit;
}

.messageContent p:last-child {
  margin-bottom: 0;
}

.userMessage .messageContent p {
  color: white;
}

.assistantMessage .messageContent {
  color: #1f2937 !important;
  font-size: 1.0625rem;
  font-weight: 400;
}

[data-theme='dark'] .assistantMessage .messageContent {
  color: #e5e7eb !important;
}

.assistantMessage .messageContent p,
.assistantMessage .messageContent li,
.assistantMessage .messageContent h1,
.assistantMessage .messageContent h2,
.assistantMessage .messageContent h3,
.assistantMessage .messageContent h4,
.assistantMessage .messageContent h5,
.assistantMessage .messageContent h6,
.assistantMessage .messageContent span,
.assistantMessage .messageContent div,
.assistantMessage .messageContent td,
.assistantMessage .messageContent th,
.assistantMessage .messageContent blockquote {
  color: #1f2937 !important;
}

[data-theme='dark'] .assistantMessage .messageContent p,
[data-theme='dark'] .assistantMessage .messageContent li,
[data-theme='dark'] .assistantMessage .messageContent h1,
[data-theme='dark'] .assistantMessage .messageContent h2,
[data-theme='dark'] .assistantMessage .messageContent h3,
[data-theme='dark'] .assistantMessage .messageContent h4,
[data-theme='dark'] .assistantMessage .messageContent h5,
[data-theme='dark'] .assistantMessage .messageContent h6,
[data-theme='dark'] .assistantMessage .messageContent span,
[data-theme='dark'] .assistantMessage .messageContent div,
[data-theme='dark'] .assistantMessage .messageContent td,
[data-theme='dark'] .assistantMessage .messageContent th,
[data-theme='dark'] .assistantMessage .messageContent blockquote {
  color: #e5e7eb !important;
}

.assistantMessage .messageContent strong {
  color: #1f2937 !important;
  font-weight: 600;
}

[data-theme='dark'] .assistantMessage .messageContent strong {
  color: #e5e7eb !important;
  font-weight: 600;
}

.assistantMessage .messageContent em {
  color: #1f2937 !important;
  font-style: italic;
}

[data-theme='dark'] .assistantMessage .messageContent em {
  color: #e5e7eb !important;
  font-style: italic;
}

.assistantMessage .messageContent a {
  color: #8b5cf6 !important;
  text-decoration: underline;
}

[data-theme='dark'] .assistantMessage .messageContent a {
  color: #a78bfa !important;
}

/* Markdown Styles */
.messageContent h1,
.messageContent h2,
.messageContent h3,
.messageContent h4,
.messageContent h5,
.messageContent h6 {
  margin-top: 1rem;
  margin-bottom: 0.5rem;
}

.messageContent ul,
.messageContent ol {
  margin: 0.5rem 0;
  padding-left: 1.5rem;
}

.messageContent li {
  margin: 0.25rem 0;
}

.messageContent code {
  padding: 0.2rem 0.4rem;
  background: rgba(0, 0, 0, 0.1);
  border-radius: 0.25rem;
  font-size: 0.875em;
  font-family: 'JetBrains Mono', monospace;
}

.userMessage .messageContent code {
  background: rgba(255, 255, 255, 0.2);
}

.messageContent pre {
  margin: 1rem 0;
  border-radius: 0.5rem;
  overflow-x: auto;
}

.messageContent pre code {
  padding: 0;
  background: transparent;
}

.messageContent blockquote {
  margin: 1rem 0;
  padding-left: 1rem;
  border-left: 3px solid var(--ifm-color-primary);
  font-style: italic;
}

.messageContent a {
  color: var(--ifm-color-primary);
  text-decoration: underline;
}

.userMessage .messageContent a {
  color: white;
}

.messageContent strong {
  font-weight: 600;
}

/* Copy Button */
.copyButton {
  position: absolute;
  top: 0.75rem;
  right: 0.75rem;
  padding: 0.5rem;
  background: rgba(255, 255, 255, 0.1);
  border: none;
  border-radius: 0.375rem;
  cursor: pointer;
  font-size: 1rem;
  opacity: 0;
  transition: all 0.2s ease;
}

.message:hover .copyButton {
  opacity: 0.7;
}

.copyButton:hover {
  opacity: 1 !important;
  background: rgba(255, 255, 255, 0.2);
}

/* Loading Message */
.loadingMessage {
  max-width: 75%;
  margin-right: auto;
  padding: 1.25rem;
  background: var(--ifm-color-emphasis-100);
  border-radius: 1rem;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
}

[data-theme='dark'] .loadingMessage {
  background: var(--ifm-color-emphasis-200);
}

.loadingContent {
  display: flex;
  align-items: center;
  gap: 1rem;
  padding-top: 0.5rem;
}

.loadingText {
  color: var(--ifm-color-emphasis-700);
  font-style: italic;
}

/* Input Container */
.inputContainer {
  display: flex;
  gap: 1rem;
  padding: 1.5rem;
  background: var(--ifm-background-surface-color);
  border-radius: 1rem;
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.05);
}

[data-theme='dark'] .inputContainer {
  box-shadow: 0 -2px 10px rgba(0, 0, 0, 0.2);
}

.inputWrapper {
  flex: 1;
  position: relative;
}

.input {
  width: 100%;
  min-height: 2.75rem;
  max-height: 8rem;
  padding: 0.75rem 1rem;
  padding-bottom: 2rem;
  border: 2px solid var(--ifm-color-emphasis-300);
  border-radius: 0.75rem;
  font-size: 1rem;
  font-family: inherit;
  line-height: 1.5;
  resize: none;
  transition: all 0.2s ease;
  background: var(--ifm-background-color);
  color: var(--ifm-font-color-base);
}

.input:focus {
  outline: none;
  border-color: var(--ifm-color-primary);
  box-shadow: 0 0 0 3px var(--ifm-color-primary-lightest);
}

[data-theme='dark'] .input:focus {
  box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.2);
}

.input:disabled {
  opacity: 0.6;
  cursor: not-allowed;
}

.charCounter {
  position: absolute;
  bottom: 0.5rem;
  right: 1rem;
  font-size: 0.75rem;
  color: var(--ifm-color-emphasis-600);
}

.charWarning {
  color: var(--ifm-color-warning);
  font-weight: 600;
}

/* Info Section */
.info {
  margin-top: 1rem;
  padding: 1rem 1.5rem;
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(168, 85, 247, 0.05) 100%);
  border-left: 4px solid var(--ifm-color-primary);
  border-radius: 0.5rem;
  font-size: 0.875rem;
}

[data-theme='dark'] .info {
  background: linear-gradient(135deg, rgba(139, 92, 246, 0.1) 0%, rgba(168, 85, 247, 0.1) 100%);
}

.info p {
  margin: 0.5rem 0;
  color: var(--ifm-color-emphasis-700);
}

.info p:first-child {
  margin-top: 0;
}

.info p:last-child {
  margin-bottom: 0;
}

.info strong {
  color: var(--ifm-color-primary);
}

/* Mobile Responsive (768px and below) */
@media (max-width: 768px) {
  .chatbotContainer {
    padding: 1rem;
    margin: 1rem auto;
  }

  .chatbotHeader {
    flex-direction: column;
    align-items: flex-start;
    gap: 1rem;
  }

  .title {
    font-size: 1.75rem;
  }

  .icon {
    font-size: 1.75rem;
  }

  .subtitle {
    font-size: 1rem;
  }

  .messagesContainer {
    min-height: 400px;
    max-height: 500px;
    padding: 1rem;
  }

  .message {
    max-width: 85%;
  }

  .inputContainer {
    flex-direction: column;
    padding: 1rem;
  }

  .input {
    min-height: 3rem; /* 48px - WCAG AAA touch target */
  }

  .info {
    padding: 0.75rem 1rem;
    font-size: 0.8125rem;
  }
}

/* Extra Small Mobile (480px and below) */
@media (max-width: 480px) {
  .chatbotContainer {
    padding: 0.5rem;
  }

  .title {
    font-size: 1.5rem;
  }

  .message {
    max-width: 90%;
    padding: 1rem;
  }

  .messagesContainer {
    padding: 0.75rem;
  }
}

/* Reduced Motion */
@media (prefers-reduced-motion: reduce) {
  .icon,
  .gradientText {
    animation: none;
  }

  .message {
    animation: none;
  }
}

/* Touch Device Optimization */
@media (hover: none) and (pointer: coarse) {
  .input,
  .copyButton {
    min-height: 2.75rem; /* 44px touch target */
  }

  .copyButton {
    opacity: 0.7;
  }
}
